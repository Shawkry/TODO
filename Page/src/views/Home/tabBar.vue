<!-- 
 * ⭐ @Author: Shawkry
 * ⭐ @Date: 2022-02-11 15:19:07
 * ⭐ @LastEditTime: 2022-02-23 14:51:01
 * ⭐ @Description: 底部导航
 -->
<template>
  <div class="tab-bar">
    <div class="button dailyPlan selected" id="dailyPlan">
      <svg
        t="1644570433812"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="3852"
        width="200"
        height="200"
      >
        <path
          d="M1002.48908 139.345652 375.21773 139.345652c-11.30344 0-20.466124-9.162684-20.466124-20.466124l0 0c0-11.30344 9.162684-20.466124 20.466124-20.466124l627.27135 0c11.30344 0 20.466124 9.162684 20.466124 20.466124l0 0C1022.955204 130.182968 1013.792521 139.345652 1002.48908 139.345652zM1002.48908 460.663798 375.21773 460.663798c-11.30344 0-20.466124-9.162684-20.466124-20.466124l0 0c0-11.30344 9.162684-20.466124 20.466124-20.466124l627.27135 0c11.30344 0 20.466124 9.162684 20.466124 20.466124l0 0C1022.955204 451.501114 1013.792521 460.663798 1002.48908 460.663798zM1002.48908 779.935332 375.21773 779.935332c-11.30344 0-20.466124-9.162684-20.466124-20.466124l0 0c0-11.30344 9.162684-20.466124 20.466124-20.466124l627.27135 0c11.30344 0 20.466124 9.162684 20.466124 20.466124l0 0C1022.955204 770.772648 1013.792521 779.935332 1002.48908 779.935332zM248.327762 31.898501 248.327762 31.898501c-7.992021-7.992021-20.951171-7.992021-28.943193 0L90.226954 161.056116 36.793998 107.623159c-7.992021-7.992021-20.951171-7.992021-28.943193 0l0 0c-7.992021 7.992021-7.992021 20.951171 0 28.943193l65.285912 67.332525c1.199315 1.199315 2.520403 2.196015 3.910053 3.036149 7.945973 5.258771 18.752086 4.38896 25.750477-2.609431L248.327762 60.841693C256.319783 52.849672 256.319783 39.891546 248.327762 31.898501zM249.351068 351.937514 249.351068 351.937514c-7.992021-7.992021-20.951171-7.992021-28.943193 0L91.25026 481.09513l-53.432956-53.432956c-7.992021-7.992021-20.951171-7.992021-28.943193 0l0 0c-7.992021 7.992021-7.992021 20.951171 0 28.943193l65.285912 67.332525c1.199315 1.199315 2.520403 2.196015 3.910053 3.036149 7.945973 5.258771 18.752086 4.38896 25.750477-2.609431l145.530514-143.483902C257.343089 372.888685 257.343089 359.930559 249.351068 351.937514zM129.624243 882.265952c-67.146283 0-121.773438-54.627155-121.773438-121.773438s54.627155-121.773438 121.773438-121.773438 121.773438 54.627155 121.773438 121.773438S196.770526 882.265952 129.624243 882.265952zM129.624243 679.651324c-44.576241 0-80.84119 36.264948-80.84119 80.84119s36.264948 80.84119 80.84119 80.84119 80.84119-36.264948 80.84119-80.84119S174.199461 679.651324 129.624243 679.651324z"
          p-id="3853"
        ></path>
      </svg>
      <p>每日待办</p>
    </div>
    <div class="button focus" id="focus">
      <svg
        t="1644570601419"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="4154"
        width="200"
        height="200"
      >
        <path
          d="M507.773234 566.661947c-18.053168 0-32.661887-14.638395-32.661887-32.661887 0-18.052145 14.608719-32.659841 32.661887-32.659841 60.217477 0 120.43393 0 180.590008 0 18.052145 0 32.661887 14.607696 32.661887 32.659841 0 18.023492-14.609743 32.661887-32.661887 32.661887C628.207164 566.661947 567.99071 566.661947 507.773234 566.661947zM477.12112 376.50198c0-18.018376 14.640442-32.660864 32.692586-32.660864 17.987676 0 32.659841 14.642488 32.659841 32.660864L542.473547 533.237697c0 18.052145-14.672164 32.659841-32.659841 32.659841-18.052145 0-32.692586-15.117302-32.692586-33.171494L477.12112 376.50198zM509.813706 109.413945c117.120464 0 223.266993 47.555086 300.06817 124.360356l0.127913 0c76.806293 76.801177 124.32761 182.981475 124.32761 300.225759 0 117.121488-47.521317 223.268016-124.32761 300.069193l-0.127913 0.127913c-76.8022 76.806293-182.947705 124.391055-300.06817 124.391055-117.246331 0-223.423559-47.52234-300.260551-124.391055l0-0.127913C132.749932 757.268076 85.194846 651.121548 85.194846 534.00006c0-117.244284 47.555086-223.424582 124.358309-300.225759C286.390147 156.939355 392.567375 109.413945 509.813706 109.413945L509.813706 109.413945zM763.891426 279.893688c-65.001433-64.967664-154.884556-105.159038-254.077719-105.159038-99.224886 0-189.073216 40.220027-254.076696 105.22146-65.001433 64.97278-105.22146 154.822135-105.22146 254.04395 0 99.258655 40.220027 189.076286 105.156992 254.077719l0.064468-0.061398c65.00348 65.001433 154.850787 105.251136 254.076696 105.251136 99.193163 0 189.076286-40.249703 254.077719-105.189737 64.937988-65.001433 105.124246-154.819065 105.124246-254.077719 0-99.221816-40.186258-189.07117-105.188714-254.04395L763.891426 279.893688zM228.404502 70.533426c13.999852-11.351536 34.541701-9.214872 45.929052 4.783956 11.352559 13.973246 9.249665 34.576493-4.753257 45.961798L142.860197 224.206388c-14.000875 11.384281-34.57547 9.248641-45.959751-4.754281-11.355629-14.002922-8.835226-34.892695 5.16565-46.278L228.404502 70.533426zM791.191188 70.533426c-14.030551-11.351536-34.574447-9.214872-45.929052 4.783956-11.418051 13.973246-9.249665 34.576493 4.722558 45.961798l126.749776 102.927207c13.96813 11.384281 34.576493 9.248641 45.929052-4.754281 11.354606-14.002922 8.865925-34.892695-5.166673-46.278L791.191188 70.533426z"
          p-id="4155"
        ></path>
      </svg>
      <p>专注模式</p>
    </div>
    <div class="button dataStatistics" id="dataStatistics">
      <svg
        t="1644570527714"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="4006"
        width="200"
        height="200"
      >
        <path
          d="M112.270505 64.303538l31.978319 0 0 863.413582 767.479649 0 0 31.978319L112.270505 959.695438 112.270505 64.303538zM400.075373 448.043363l0 415.71712-191.869912 0 0-223.848231L400.075373 448.043363zM655.901922 480.021681l0 383.738801-191.869912 0L464.03201 448.043363l95.934956 127.912251L655.901922 480.021681zM911.728472 288.151769l0 575.608713-191.869912 0L719.85856 448.043363 911.728472 288.151769zM240.183779 512l-31.978319-31.978319 223.848231-223.848231 127.913275 127.913275 255.82655-223.848231-63.956637-63.956637 159.891593 0 0 159.891593-63.956637-63.956637-287.804868 255.82655-127.913275-127.913275L240.183779 512z"
          p-id="4007"
        ></path>
      </svg>
      <p>数据统计</p>
    </div>
    <div class="button user" id="user">
      <svg
        t="1644571924921"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="4462"
        width="200"
        height="200"
      >
        <path
          d="M499.482 601.985c-151.597 0-270.348-125.251-270.348-285.156 0-154.257 127.54-279.769 284.305-279.769 156.743 0 284.24 125.491 284.24 279.769 0 73.17-28.549 142.371-80.367 194.888-8.506 8.571-22.289 8.636-30.838 0.196-8.593-8.462-8.658-22.267-0.218-30.838 43.728-44.272 67.783-102.612 67.783-164.224 0-130.201-107.934-236.151-240.622-236.151-132.71 0-240.687 105.927-240.687 236.151 0 135.436 99.581 241.537 226.729 241.537 12.038 0 21.809 9.749 21.809 21.809s-9.749 21.787-21.787 21.787zM929.691 992c-12.061 0-21.809-9.749-21.809-21.809 0-203.524-175.957-369.1-392.24-369.1-216.282 0-392.261 165.576-392.261 369.1 0 12.061-9.771 21.809-21.809 21.809s-21.809-9.749-21.809-21.809c0-227.58 195.542-412.718 435.88-412.718 240.338 0 435.858 185.138 435.858 412.718 0 12.038-9.749 21.809-21.809 21.809z"
          p-id="4463"
        ></path>
      </svg>
      <p>个人中心</p>
    </div>
    <!-- <div class="button user" id="sleepMusic">
      <svg
        t="1644654800993"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="2418"
        width="200"
        height="200"
      >
        <path
          d="M416.896 64A406.698667 406.698667 0 0 0 405.333333 160.554667c0 223.850667 181.482667 405.333333 405.333334 405.333333 52.181333 0 102.058667-9.856 147.861333-27.818667C940.16 768.576 747.242667 949.888 512 949.888c-247.424 0-448-200.576-448-448C64 287.104 215.146667 107.605333 416.896 64zM832 138.666667c27.52 0 41.792 32.128 24.597333 52.48l-1.962666 2.133333-137.408 137.386667H832a32 32 0 0 1 31.850667 28.928L864 362.666667a32 32 0 0 1-28.928 31.850666L832 394.666667h-192c-27.52 0-41.792-32.128-24.597333-52.48l1.962666-2.133334 137.365334-137.386666H640a32 32 0 0 1-31.850667-28.928L608 170.666667a32 32 0 0 1 28.928-31.850667L640 138.666667h192z"
          fill="#131415"
          p-id="2419"
        ></path>
      </svg>
      <p>睡前故事</p>
    </div> -->
  </div>
</template>

<script lang="ts" setup>
import { ref, onMounted } from "vue";
import { useRouter } from "vue-router";
const router = useRouter();
const selected = ref("dailyPlan");
const init = () => {
  //   let selected = "dailyPlan";
  //   let selected = router.currentRoute.value.name;

  const expandButton = (id: string) => {
    if (selected.value !== id) {
      const getId: any = document.getElementById(id);
      const getSelected: any = document.getElementById(selected.value);
      getId.classList.remove("deselected");
      getSelected.classList.remove("selected");
      getSelected.classList.add("deselected");
      getId.classList.add("selected");
      document.body.style.backgroundColor = "var(--" + id + ")";
      selected.value = id;
      router.push({ path: "/home/" + selected.value });
    }
  };

  Array.from(document.getElementsByClassName("button")).forEach(function (
    element
  ) {
    element.addEventListener("click", function () {
      expandButton(element.id);
    });
  });
};
onMounted(() => {
  init();
});
</script>

<style lang="scss" scoped>
.NavBar {
  position: relative;
  width: 100%;
  height: 100%;
}
* {
  font-size: 14px;
}
$dailyPlan: #e6f4f1;
$dailyPlan-o: #8696a7;
$focus: #e6f4f1;
$focus-o: #8696a7;
$dataStatistics: #e6f4f1;
$dataStatistics-o: #8696a7;
$user: #e6f4f1;
$user-o: #8696a7;
/*  Text Colors  */
$dark-text: rgba(255, 255, 255, 0.836);
$grey-text: hsl(0, 0%, 29%);

// $dailyPlan: #91b185;
// $dailyPlan-o: rgba(255, 255, 255, 0.8);
// $focus: #91b185;
// $focus-o: rgba(255, 255, 255, 0.8);
// $dataStatistics: #91b185;
// $dataStatistics-o: rgba(255, 255, 255, 0.8);
// $user: #91b185;
// $user-o: rgba(255, 255, 255, 0.8);
// /*  Text Colors  */
// $dark-text: rgba(255, 255, 255, 0.836);
// $grey-text: hsl(0, 0%, 29%);

p {
  margin: 0;
  display: none;
  white-space: nowrap;
}

.tab-bar {
  --border-radius: 40px;
  background-color: #8696a7;

  //   width: 400px;
  height: 100%;
  //   border-bottom-left-radius: var(--border-radius);
  //   border-bottom-right-radius: var(--border-radius);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0px 10px;
}

.tab-bar .button {
  /*   width: 90px; */
  display: flex;
  justify-content: center;
  align-items: center;
  /*   height: 50px; */
  padding: 0.5rem 0.9375rem;
  margin: 5px;
  border-radius: 25px;
  /*   overflow: hidden; */
  width: 2.5rem;
  /*   margin-left: -50%; */
  //   font-weight: 500;
  cursor: pointer;
}

.tab-bar .button svg {
  height: 1.5625rem;
  vertical-align: middle;
}

.tab-bar .button.selected svg {
  padding-right: 10px;
}

.tab-bar .button path {
  //   fill: var(--dark-text);
  fill: $dark-text;
}

.tab-bar .button.dailyPlan.selected {
  /*   background-color: var(--dailyPlan-o); */
  //   color: var(--dailyPlan);
  background-color: $dailyPlan-o;
  color: $dailyPlan;
}

.tab-bar .button.dailyPlan.selected path {
  //   fill: var(--dailyPlan);
  fill: $dailyPlan;
}

.tab-bar .button.focus.selected {
  //   background-color: var(--focus-o);
  //   color: var(--focus);
  background-color: $focus-o;
  color: $focus;
}

.tab-bar .button.focus.selected path {
  //   fill: var(--focus);
  fill: $focus;
}

.tab-bar .button.dataStatistics.selected {
  //   background-color: var(--dataStatistics-o);
  //   color: var(--dataStatistics);
  background-color: $dataStatistics-o;
  color: $dataStatistics;
}

.tab-bar .button.dataStatistics.selected path {
  //   fill: var(--dataStatistics);
  fill: $dataStatistics;
}

.tab-bar .button.user.selected {
  //   background-color: var(--user-o);
  //   color: var(--user);
  background-color: $user-o;
  color: $user;
}

.tab-bar .button.user.selected path {
  //   fill: var(--user);
  fill: $user;
}

.selected.dailyPlan {
  animation: grow-h 0.2s linear forwards;
}
.selected.focus {
  animation: grow-l 0.2s linear forwards;
}
.selected.dataStatistics {
  animation: grow-s 0.2s linear forwards;
}
.selected.user {
  animation: grow-p 0.2s linear forwards;
}
.selected p {
  animation: fadein 0.1s linear forwards;
  display: inherit;
}

.deselected.dailyPlan {
  animation: shrink-h 0.2s linear forwards;
}
.deselected.focus {
  animation: shrink-l 0.2s linear forwards;
}
.deselected.dataStatistics {
  animation: shrink-s 0.2s linear forwards;
}
.deselected.user {
  animation: shrink-p 0.2s linear forwards;
}

@keyframes grow-h {
  0% {
    width: 2.5rem;
    background-color: none;
  }
  100% {
    width: 90px;
    // background-color: var(--dailyPlan-o);
    background-color: $dailyPlan-o;
  }
}
@keyframes grow-l {
  0% {
    width: 2.5rem;
    background-color: none;
  }
  100% {
    width: 5.625rem;
    // background-color: var(--focus-o);
    background-color: $focus-o;
  }
}

@keyframes grow-s {
  0% {
    width: 2.5rem;
    background-color: none;
  }
  100% {
    width: 5.625rem;
    // background-color: var(--dataStatistics-o);
    background-color: $dataStatistics-o;
  }
}

@keyframes grow-p {
  0% {
    width: 2.5rem;
    background-color: none;
  }
  100% {
    width: 5.625rem;
    // background-color: var(--user-o);
    background-color: $user-o;
  }
}

@keyframes shrink-h {
  0% {
    width: 5.625rem;
    // background-color: var(--dailyPlan-o);
    background-color: $dailyPlan-o;
  }
  100% {
    width: 2.5rem;
    background-color: none;
  }
}

@keyframes shrink-l {
  0% {
    width: 5.625rem;
    // background-color: var(--focus-o);
    background-color: $focus-o;
  }
  100% {
    width: 2.5rem;
    background-color: none;
  }
}

@keyframes shrink-s {
  0% {
    width: 5.625rem;
    // background-color: var(--dataStatistics-o);
    background-color: $dataStatistics-o;
  }
  100% {
    width: 2.5rem;
    background-color: none;
  }
}

@keyframes shrink-p {
  0% {
    width: 5.625rem;
    // background-color: var(--user-o);
    background-color: $user-o;
  }
  100% {
    width: 2.5rem;
    background-color: none;
  }
}

@keyframes fadein {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes fadeout {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
</style>